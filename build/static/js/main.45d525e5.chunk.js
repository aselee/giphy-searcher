(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){},156:function(e,t,a){e.exports=a(331)},331:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"OPEN_MODAL",function(){return S}),a.d(n,"CLOSE_MODAL",function(){return N}),a.d(n,"REQUEST_GIFS",function(){return w}),a.d(n,"FETCH_FAVORITED_GIFS",function(){return F}),a.d(n,"SIGN_OUT_USER",function(){return k}),a.d(n,"AUTH_ERROR",function(){return A}),a.d(n,"AUTH_USER",function(){return C}),a.d(n,"requestGifs",function(){return R}),a.d(n,"favoriteGif",function(){return _}),a.d(n,"unfavoriteGif",function(){return T}),a.d(n,"fetchFavoritedGifs",function(){return L}),a.d(n,"openModal",function(){return P}),a.d(n,"closeModal",function(){return D}),a.d(n,"signUpUser",function(){return H}),a.d(n,"signInUser",function(){return M}),a.d(n,"signOutUser",function(){return x}),a.d(n,"verifyAuth",function(){return q}),a.d(n,"authUser",function(){return z}),a.d(n,"authError",function(){return Z});var r=a(0),i=a.n(r),o=a(102),c=a.n(o),s=a(10),l=a(11),u=a(13),d=a(12),f=a(14),m=a(154),p=a(333),h=a(339),v=a(337),b=a(6),E=a(21),O=a(68),g=a(148),y=a.n(g),j=a(17),G=a.n(j),S="OPEN_MODAL",N="CLOSE_MODAL",w="REQUEST_GIFS",F="FETCH_FAVORITED_GIFS",k="SIGN_OUT_USER",A="AUTH_ERROR",C="AUTH_USER",I="http://api.giphy.com/v1/gifs/search?q=",U="&api_key=dc6zaTOxFJmzC";function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){y.a.get("".concat(I).concat(e.replace(/\s/g,"+")).concat(U)).then(function(e){t({type:w,payload:e})})}}function _(e){var t=e.selectedGif,a=G.a.auth().currentUser.uid,n=t.id;return function(e){return G.a.database().ref(a).update(Object(O.a)({},n,t))}}function T(e){var t=e.selectedGif,a=G.a.auth().currentUser.uid,n=t.id;return function(e){return G.a.database().ref(a).child(n).remove()}}function L(){return function(e){var t=G.a.auth().currentUser.uid;G.a.database().ref(t).on("value",function(t){e({type:F,payload:t.val()})})}}function P(e){return{type:S,gif:e}}function D(){return{type:N}}function H(e){return function(t){G.a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(e){t(z())}).catch(function(e){console.log(e),t(Z(e))})}}function M(e){return function(t){G.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(e){t(z())}).catch(function(e){t(Z(e))})}}function x(){return function(e){G.a.auth().signOut().then(function(){e({type:k})})}}function q(){return function(e){G.a.auth().onAuthStateChanged(function(t){e(t?z():x())})}}function z(){return{type:C}}function Z(e){return{type:A,payload:e}}G.a.initializeApp({apiKey:"AIzaSyBtR3H7Ug-luHa1qzxS66lLddDo9JWcouU",authDomain:"react-giphy-a6b0b.firebaseapp.com",databaseURL:"https://react-giphy-a6b0b.firebaseio.com",projectId:"react-giphy-a6b0b",storageBucket:"react-giphy-a6b0b.appspot.com",messagingSenderId:"1045369758402"});var J={data:[],favorites:[]};var W={selectedGif:null,modalIsOpen:!1};var B=a(71),Q=a(338),V={authenticated:!1,error:null};var $=Object(b.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(E.a)({},e,{authenticated:!0,error:null});case A:return Object(E.a)({},e,{error:t.payload.message});case k:return Object(E.a)({},e,{authenticated:!1,error:null});default:return e}},form:Q.a,gifs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(E.a)({},e,{data:t.payload.body.data});case F:var a=[];for(var n in t.payload)t.payload.hasOwnProperty(n)&&a.push(t.payload[n]);return Object(E.a)({},e,{favorites:a});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(E.a)({},e,{modalIsOpen:!0,selectedGif:t.gif.selectedGif});case N:return Object(E.a)({},e,{modalIsOpen:!1,selectedGif:null});default:return e}},router:B.b}),K=a(151),X=a.n(K),Y=a(152),ee=X()();var te=a(9),ae=a(334),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleSignout",value:function(){this.props.signOutUser()}},{key:"renderAuthLinks",value:function(){var e=this;return this.props.authenticated?[i.a.createElement("li",{className:"nav-item",key:1},i.a.createElement(ae.a,{className:"nav-link",to:"/favorites"},"My Favs")),i.a.createElement("li",{className:"nav-item",key:2},i.a.createElement("a",{className:"nav-link",href:"/",onClick:function(){return e.handleSignout()}},"Sign Out"))]:[i.a.createElement("li",{className:"nav-item",key:1},i.a.createElement(ae.a,{className:"nav-link",to:"/login"},"Login")),i.a.createElement("li",{className:"nav-item",key:2},i.a.createElement(ae.a,{className:"nav-link",to:"/signup"},"Sign Up"))]}},{key:"render",value:function(){return i.a.createElement("nav",{className:"navbar navbar-default"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement(ae.a,{className:"navbar-brand",to:"/"},"ReactGiphySearch")),i.a.createElement("ul",{className:"nav navbar-nav navbar-right"},this.renderAuthLinks())))}}]),t}(i.a.Component);var re=Object(te.b)(function(e){return{authenticated:e.auth.authenticated}},n)(ne),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderFavoriteHeart=function(){return a.props.isAuthenticated?a.state.favorited?i.a.createElement("i",{className:"favorite fa fa-heart",onClick:function(){return a.unfavoriteGif()}}):i.a.createElement("i",{className:"favorite fa fa-heart-o",onClick:function(){return a.favoriteGif()}}):""},a.state={favorited:a.props.isFavorite},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"favoriteGif",value:function(){this.setState({favorited:!0}),this.props.onFavoriteSelect(this.props.gif)}},{key:"unfavoriteGif",value:function(){this.setState({favorited:!1}),this.props.onFavoriteSelect(this.props.gif)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"gif-item"},this.renderFavoriteHeart(),i.a.createElement("img",{alt:"fav",src:this.props.gif.images.downsized.url,onClick:function(){return e.props.onGifSelect(e.props.gif)}}))}}]),t}(i.a.Component),oe=function(e){var t=e.gifs.map(function(t){return i.a.createElement(ie,{key:t.id,gif:t,onGifSelect:e.onGifSelect,onFavoriteSelect:e.onFavoriteSelect,onFavoriteDeslect:e.onFavoriteDeselect,isAuthenticated:e.isAuthenticated,isFavorite:e.isFavorite})});return i.a.createElement("div",{className:"gif-list"},t)},ce=a(153),se=a.n(ce),le=function(e){return e.selectedGif?i.a.createElement(se.a,{isOpen:e.modalIsOpen,onRequestClose:function(){return e.onRequestClose()}},i.a.createElement("div",{className:"gif-modal"},i.a.createElement("img",{src:e.selectedGif.images.original.url,alt:""}),i.a.createElement("p",null,i.a.createElement("strong",null,"Source:")," ",i.a.createElement("a",{href:e.selectedGif.source},e.selectedGif.source)),i.a.createElement("p",null,i.a.createElement("strong",null,"Rating:")," ",e.selectedGif.rating),i.a.createElement("button",{onClick:function(){return e.onRequestClose()}},"Close"))):i.a.createElement("div",null)},ue=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.props.onTermChange(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"search"},i.a.createElement("input",{placeholder:"Search for gifs!",onChange:function(t){return e.onInputChange(t.target.value)}}))}}]),t}(i.a.Component),de=(a(137),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(ue,{onTermChange:this.props.actions.requestGifs}),i.a.createElement(oe,{gifs:this.props.gifs,onGifSelect:function(t){return e.props.actions.openModal({selectedGif:t})},onFavoriteSelect:function(t){return e.props.actions.favoriteGif({selectedGif:t})},onFavoriteDeslect:function(t){return e.props.actions.unfavoriteGif({selectedGif:t})},isAuthenticated:this.props.authenticated}),i.a.createElement(le,{modalIsOpen:this.props.modalIsOpen,selectedGif:this.props.selectedGif,onRequestClose:function(){return e.props.actions.closeModal()}}))}}]),t}(i.a.Component));var fe=Object(te.b)(function(e){return{authenticated:e.auth.authenticated,gifs:e.gifs.data,modalIsOpen:e.modal.modalIsOpen,selectedGif:e.modal.selectedGif}},function(e){return{actions:Object(b.b)(n,e)}})(de),me=a(336),pe=a(335),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){a.props.signUpUser(e)},a.renderField=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,o=r.touched,c=r.error;return i.a.createElement("fieldset",{className:"form-group ".concat(o&&c?"has-error":"")},i.a.createElement("label",{className:"control-label"},a),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},t,{placeholder:a,className:"form-control",type:n})),o&&c&&i.a.createElement("div",{className:"help-block"},c)))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderAuthenticationError",value:function(){return this.props.authenticationError?i.a.createElement("div",{className:"alert alert-danger"},this.props.authenticationError):i.a.createElement("div",null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col-md-6 col-md-offset-3"},i.a.createElement("h2",{className:"text-center"},"Sign up here"),this.renderAuthenticationError(),i.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},i.a.createElement(me.a,{name:"email",type:"text",component:this.renderField,label:"Email"}),i.a.createElement(me.a,{name:"password",type:"password",component:this.renderField,label:"Password"}),i.a.createElement(me.a,{name:"passwordConfirmation",type:"password",component:this.renderField,label:"Password confirmation"}),i.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Sign up"))))}}]),t}(i.a.Component);var ve=Object(te.b)(function(e){return{authenticationError:e.auth.error}},n)(Object(pe.a)({form:"signup",validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email"):t.email="Need an email",e.password||(t.password="Please enter a password"),e.passwordConfirmation||(t.passwordConfirmation="Please enter a password confirmation"),e.password!==e.passwordConfirmation&&(t.password="Passwords don't match."),t}})(he)),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){a.props.signInUser(e)},a.renderField=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,o=r.touched,c=r.error;return i.a.createElement("fieldset",{className:"form-group ".concat(o&&c?"has-error":"")},i.a.createElement("label",{className:"control-label"},a),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},t,{placeholder:a,className:"form-control",type:n})),o&&c&&i.a.createElement("div",{className:"help-block"},c)))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderAuthenticationError",value:function(){return this.props.authenticationError?i.a.createElement("div",{className:"alert alert-danger"},this.props.authenticationError):i.a.createElement("div",null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col-md-6 col-md-offset-3"},i.a.createElement("h2",{className:"text-center"},"Log In Here"),this.renderAuthenticationError(),i.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},i.a.createElement("fieldset",{className:"form-group"},i.a.createElement(me.a,{name:"email",component:this.renderField,className:"form-control",type:"text",label:"Email"})),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement(me.a,{name:"password",component:this.renderField,className:"form-control",type:"password",label:"Password"})),i.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Sign In Here"))))}}]),t}(i.a.Component);var Ee=Object(te.b)(function(e){return{authenticationError:e.auth.error}},n)(Object(pe.a)({form:"login",validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid Email Address"):t.email="Please enter an email",e.password||(t.password="Please enter a password"),t}})(be)),Oe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.fetchFavoritedGifs()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(oe,{gifs:this.props.gifs,onGifSelect:function(t){return e.props.actions.openModal({selectedGif:t})},onFavoriteSelect:function(t){return e.props.actions.favoriteGif({selectedGif:t})},onFavoriteDeselect:function(t){return e.props.actions.unfavoriteGif({selectedGif:t})},isAuthenticated:this.props.authenticated,isFavorite:!0}),i.a.createElement(le,{modalIsOpen:this.props.modalIsOpen,selectedGif:this.props.selectedGif,onRequestClose:function(){return e.props.actions.closeModal()}}))}}]),t}(i.a.Component);var ge=Object(te.b)(function(e){return{authenticated:e.auth.authenticated,gifs:e.gifs.favorites,modalIsOpen:e.modal.modalIsOpen,selectedGif:e.modal.selectedGif}},function(e){return{actions:Object(b.b)(n,e)}})(Oe),ye=function(e){var t=e.component,a=e.authenticated,n=Object(m.a)(e,["component","authenticated"]);return i.a.createElement(h.a,Object.assign({},n,{render:function(e){return!0===a?i.a.createElement(t,e):i.a.createElement(v.a,{to:{pathname:"/Login",state:{from:e.location}}})}}))},je=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{history:ee},i.a.createElement("div",null,i.a.createElement(re,null),i.a.createElement("div",{className:"container"},i.a.createElement(h.a,{exact:!0,path:"/",component:fe}),i.a.createElement(h.a,{authenticated:this.props.authenticated,path:"/signup",component:ve}),i.a.createElement(h.a,{authenticated:this.props.authenticated,path:"/login",component:Ee}),i.a.createElement(ye,{authenticated:this.props.authenticated,path:"/favorites",component:ge}))))}}]),t}(i.a.Component),Ge=Object(te.b)(function(e){return{authenticated:e.auth.authenitcated}})(je),Se=function(e){var t=Object(b.e)($,e,Object(b.d)(Object(b.a)(Y.a,Object(B.a)(ee)),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return t.dispatch(q()),t}();c.a.render(i.a.createElement(te.a,{store:Se},i.a.createElement(Ge,null)),document.getElementById("app"))}},[[156,1,2]]]);
//# sourceMappingURL=main.45d525e5.chunk.js.map